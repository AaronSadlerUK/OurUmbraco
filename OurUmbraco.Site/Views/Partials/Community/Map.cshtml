@using ClientDependency.Core.Mvc
@{
    Html.RequiresJs("~/assets/js/lib/markerclusterer.js");
    Html.RequiresJs("~/assets/js/map/community.map.js");

    //Google Maps API Key
    var apiKey = "AIzaSyCyVUmjYOjblvpPIE9Qqhz1yjLp3HzKnC4";
}

<style>
    /* Always set the map height explicitly to define the size of the div
    * element that contains the map. */
     #map {
         min-height: 500px;
     }
</style>

<h1>Map</h1>
<div id="map"></div>
<script async defer src="https://maps.googleapis.com/maps/api/js?key=@(apiKey)&callback=initMap"></script>

<script id="map-marker-template" type="x-tmpl-mustache">
    <div style="display:flex; align-items:center;">
        <img src="{{Avatar}}" title="{{Name}}" style="margin-right:5px; border-radius:50%;" />
        
        <div>
            <a href="/member/{{Id}}">{{Name}}</a>
            <em>Karma: {{Karma}}</em>

            <div class="social-links">
                {{#Twitter}}
                <a href="https://twitter.com/{{Twitter}}" title="See {{Name}}'s profile on Twitter" target="_blank" rel="noopener">
                    <i class="icon-twitter" aria-hidden="true"></i>
                    <span>{{Twitter}}</span>
                </a>
                {{/Twitter}}
                {{#GitHub}}
                <a href="https://github.com/{{Github}}" title="See {{Name}}'s profile on GitHub" target="_blank" rel="noopener">
                    <i class="icon-github" aria-hidden="true"></i>
                    <span>{{GitHub}}</span>
                </a>
                {{/GitHub}}
            </div>
        </div>
    </div>
</script>


<script id="members-template" type="x-tmpl-mustache">
    <h3>There are quite a few people at this location</h3>
    <div class="map-members">
        {{#members}}
        {{>.}}
        {{/members}}
    </div>    
</script>

<script id="member-item-template" type="x-tmpl-mustache">
    Hello {{ name }}!
</script>

